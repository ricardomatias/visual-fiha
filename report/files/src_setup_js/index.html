<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Plato - src/setup.js</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

  <!--[if lt IE 9]>
  <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->

  <link href="../../assets/css/vendor/morris.css" rel="stylesheet">
  <link href="../../assets/css/vendor/bootstrap.css" rel="stylesheet">
  <link href="../../assets/css/vendor/font-awesome.css" rel="stylesheet">
  <link href="../../assets/css/vendor/codemirror.css" rel="stylesheet">
  <link href="../../assets/css/plato.css" rel="stylesheet">
  <link href="../../assets/css/plato-file.css" rel="stylesheet">

</head>

<body>

<div class="navbar navbar-fixed-top">
  <div class="container">
    <a class="navbar-brand" href="http://github.com/es-analysis/plato">Plato on Github</a>
    <ul class="nav navbar-nav">
      <li>
        <a href="../../index.html">Report Home</a>
      </li>
    </ul>
  </div>
</div>

<div class="jumbotron">
  <div class="container">
    <h1>src/setup.js</h1>
  </div>
</div>

<div class="container aggregate-stats">
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Maintainability <a href="http://blogs.msdn.com/b/codeanalysis/archive/2007/11/20/maintainability-index-range-and-meaning.aspx"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="A value between 0 and 100 that represents the relative ease of maintaining the code. A high value means better maintainability." data-original-title="Maintainability Index"  data-container="body"></i></a></h2>
      <p class="stat">69.00</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Lines of code <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h2>
      <p class="stat">372</p>
    </div>
  </div>
  <div class="row historical">
    <div class="col-md-6">
      <p id="chart_historical_maint" class="chart"></p>
    </div>
    <div class="col-md-6">
      <p id="chart_historical_sloc" class="chart"></p>
    </div>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h2 class="header">Difficulty  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="The difficulty measure is related to the difficulty of the program to write or understand." data-original-title="Difficulty" data-container="body"></i></a></h2>
      <p class="stat">14.11</p>
    </div>
    <div class="col-md-6">
      <h2 class="header">Estimated Errors  <a href="http://en.wikipedia.org/wiki/Halstead_complexity_measures"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Halstead's delivered bugs is an estimate for the number of errors in the implementation." data-original-title="Delivered Bugs" data-container="body"></i></a></h2>
      <p class="stat">0.85</p>
    </div>
  </div>
</div>

<div class="container charts">
  <div class="row">
    <h2 class="header">Function weight</h2>
  </div>
  <div class="row">
    <div class="col-md-6">
      <h3 class="chart-header">By Complexity <a href="http://en.wikipedia.org/wiki/Cyclomatic_complexity"><i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="This metric counts the number of distinct paths through a block of code. Lower values are better." data-original-title="Cyclomatic Complexity" data-container="body"></i></a></h3>
      <div id="fn-by-complexity" class="stat"></div>
    </div>
    <div class="col-md-6">
      <h3 class="chart-header">By SLOC  <i class="icon icon-info-sign" rel="popover" data-placement="top" data-trigger="hover" data-content="Source Lines of Code / Logical Lines of Code" data-original-title="SLOC/LSLOC" data-container="body"></i></h3>
      <div id="fn-by-sloc" class="stat"></div>
    </div>
  </div>
</div>

<div class="container">
  <div class="row">
    <textarea id="file-source" class="col-md-12">&#039;use strict&#039;;
/*global store, width, height, layer, grid, beginPath, closePath, dot, circle, polygone, moveTo, lineTo, fillStyle, stroke, strokeStyle, lineWidth, clearRect, timeDomain, frequency, bufferLength, restoreContexts, cacheContext*/
window.VF = window.VF || {};

var canvasLayers = [
//   {
//     name: &#039;levels&#039;,
//     active: false,
//     zIndex: 0,
//     props: {
//       levelA: [&#039;number&#039;, true, 30],
//       levelB: [&#039;number&#039;, true, 120]
//     },
//     drawFunction: function () {
//   lineWidth(1);
//   strokeStyle(&#039;#fff&#039;);

//   beginPath();
//   moveTo(0, height - layer.levelA);
//   lineTo(width, height - layer.levelA);
//   stroke();

//   beginPath();
//   moveTo(0, height - layer.levelB);
//   lineTo(width, height - layer.levelB);
//   stroke();

//   // -----------------------------------
//   var length = bufferLength();
//   var barWidth = (width / length) - 1;
//   var f = 0;
//   var alpha;
//   lineWidth(barWidth);

//   grid(length, 1, function(x) {
//     var td = timeDomain(f) * 1;
//     var freq = frequency(f);

//     alpha = td &gt; layer.levelA &amp;&amp; td &lt; layer.levelB ? 0.7 : 0;
//     strokeStyle(&#039;rgba(160,122,122,&#039; + alpha + &#039;)&#039;);
//     beginPath();
//     moveTo(x, height);
//     lineTo(x, height - td);
//     stroke();

//     alpha = freq &gt; layer.levelA &amp;&amp; freq &lt; layer.levelB ? 0.7 : 0;
//     strokeStyle(&#039;rgba(122,122,160,&#039; + alpha + &#039;)&#039;);
//     beginPath();
//     moveTo(x, height);
//     lineTo(x, height - freq);
//     stroke();
//     f++;
//   });
// }.toString()
//   },
//   {
//     name: &#039;audio1&#039;,
//     active: false,
//     zIndex: 0,
//     props: {
//       colorA: [&#039;string&#039;, true, &#039;#A581FF&#039;],
//       widthA: [&#039;number&#039;, true, 1],
//       colorB: [&#039;string&#039;, true, &#039;#66D9EF&#039;],
//       widthB: [&#039;number&#039;, true, 1]
//     },
//     drawFunction: function () {
//   var x = width * 0.5;
//   var y = height * 0.5;
//   var r = Math.min(x, y) - 20;
//   var rad = Math.PI * 2;
//   var length = bufferLength();
//   var shift1 = Math.PI * 0.5;
//   var shift2 = Math.PI * 1.5;

//   var i, a, f, td, lx, ly;

//   // -----------------------------

//   strokeStyle(layer.colorA);
//   lineWidth(layer.widthA);
//   beginPath();
//   for (i = 0; i &lt; length; i++) {
//     a = ((rad / length) * i) - shift1;
//     f = (r / 100) * (frequency(i) / 2);
//     lx = Math.round(x + Math.cos(a) * f);
//     ly = Math.round(y + Math.sin(a) * f);
//     lineTo(lx, ly);
//   }
//   stroke();

//   beginPath();
//   i = 0;
//   lineTo(0, height * 0.5);
//   lineTo(width, height * 0.5);
//   stroke();

//   beginPath();
//   grid(length, 1, function(x, y){
//     lineTo(x, y + (frequency(i) * 0.5));
//     i++;
//   });
//   stroke();

//   // -----------------------------

//   strokeStyle(layer.colorB);
//   lineWidth(layer.widthB);
//   beginPath();
//   for (i = 0; i &lt; length; i++) {
//     a = ((rad / length) * i) - shift2;
//     td = (r / 100) * (timeDomain(i) / 2);
//     lx = Math.round(x + Math.cos(a) * td);
//     ly = Math.round(y + Math.sin(a) * td);
//     lineTo(lx, ly);
//   }
//   stroke();

//   beginPath();
//   i = 0;
//   lineTo(0, height * 0.5);
//   lineTo(width, height * 0.5);
//   stroke();

//   beginPath();
//   grid(length, 1, function(x, y){
//     lineTo(x, y + (timeDomain(i) * 0.5));
//     i++;
//   });
//   stroke();
// }.toString()
//   },


  {
    name: &#039;lines&#039;,
    active: true,
    zIndex: 50,
    props: {
      text:[&#039;string&#039;, true, &#039;Hello World!&#039;],
      toggleA: [&#039;boolean&#039;, true, false],
      knobA: [&#039;number&#039;, true, 127],
      knobB: [&#039;number&#039;, true, 127],
      knobC: [&#039;number&#039;, true, 127]
    },
    drawFunction: function () {
  var l = bufferLength();

  // var str = layer.text || &#039;&#039;;
  // var letters = str.length &lt;= l ? repeat(&#039;&#039;, Math.round((l - str.length) / 2))
  //               .concat(str.split(&#039;&#039;)) : str.split(&#039;&#039;);
  var f = 0;
  var k = Math.round(layer.knobA * 0.05);
  var p = Math.max(1, k);
  var d = Math.pow(2, p);

  // textAlign(&#039;center&#039;);
  // textBaseline(&#039;middle&#039;);

  grid(l, l / d, function(...args) {
    fillStyle(&#039;black&#039;);
    fillStyle(&#039;hsl(&#039;+(timeDomain(f) * 3)+&#039;, &#039;+layer.knobB+&#039;%, &#039;+layer.knobB+&#039;%)&#039;);
    strokeStyle(&#039;hsl(&#039;+(timeDomain(f) * 3)+&#039;, &#039;+layer.knobB+&#039;%, &#039;+layer.knobB+&#039;%)&#039;);

    // circle(...args, timeDomain(f) * 0.1);
    polygone(...args, timeDomain(f) * layer.knobC * 0.05);
    // font(&#039;20px monospace&#039;);
    // font(&#039;20px monospace&#039;);
    // txt(letters[f], ...args);
    f++;
  });
}.toString()
  }
];

window.VF._defaultSetup = {
  mappings: [
    {
      targets: [
        &#039;layers.no-signal.opacity&#039;
      ],
      transformFunction: &#039;function (value) {\n  return value &gt; 90 ? 100 : 15;\n}&#039;,
      name: &#039;beatOpacity&#039;,
      source: &#039;signals.beatA.result&#039;
    },
    {
      targets: [
        &#039;layers.no-signal.active&#039;
      ],
      transformFunction: &#039;function (value, currentValue) {\n  if (!value) return currentValue;\n        return !currentValue;\n}&#039;,
      name: &#039;nk2.r1&#039;,
      source: &#039;midi:nk2.r1&#039;
    },
    // {
    //   targets: [
    //     &#039;layers.Sky-1-back.opacity&#039;,
    //     &#039;layers.Sky-1-front.opacity&#039;
    //   ],
    //   transformFunction: &#039;function (value) {\n  return Math.max(value - 1, 0) * (100 / 126);\n}&#039;,
    //   name: &#039;nk2.slider2&#039;,
    //   source: &#039;midi:nk2.slider2&#039;
    // },
    // {
    //   targets: [
    //     &#039;layers.Sky-1-back.active&#039;
    //   ],
    //   transformFunction: &#039;function (value, currentValue) {\n  if (!value) return currentValue;\n        return !currentValue;\n}&#039;,
    //   name: &#039;nk2.r2&#039;,
    //   source: &#039;midi:nk2.r2&#039;
    // },
    // {
    //   targets: [
    //     &#039;layers.Sky-1-front.active&#039;
    //   ],
    //   transformFunction: &#039;function (value, currentValue) {\n  if (!value) return currentValue;\n        return !currentValue;\n}&#039;,
    //   name: &#039;nk2.m2&#039;,
    //   source: &#039;midi:nk2.m2&#039;
    // },
    {
      targets: [
        &#039;layers.canvas.canvasLayers.lines.knobA&#039;
      ],
      transformFunction: &#039;function (value) {\n  return value;\n}&#039;,
      name: &#039;nk2.knob1&#039;,
      source: &#039;midi:nk2.knob1&#039;
    },
    {
      targets: [
        &#039;layers.canvas.canvasLayers.lines.knobB&#039;
      ],
      transformFunction: &#039;function (value) {\n  return value;\n}&#039;,
      name: &#039;nk2.knob2&#039;,
      source: &#039;midi:nk2.knob2&#039;
    },
    {
      targets: [
        &#039;layers.canvas.canvasLayers.lines.knobC&#039;
      ],
      transformFunction: &#039;function (value) {\n  return value;\n}&#039;,
      name: &#039;nk2.knob3&#039;,
      source: &#039;midi:nk2.knob3&#039;
    },
    // {
    //   targets: [
    //     &#039;layers.zeropaper.opacity&#039;
    //   ],
    //   transformFunction: &#039;function (value) {\n  return Math.max(value - 1, 0) * (100 / 126);\n}&#039;,
    //   name: &#039;nk2.slider6&#039;,
    //   source: &#039;midi:nk2.slider6&#039;
    // },
    // {
    //   targets: [
    //     &#039;layers.zeropaper.active&#039;
    //   ],
    //   transformFunction: &#039;function (value, currentValue) {\n  if (!value) return currentValue;\n        return !currentValue;\n}&#039;,
    //   name: &#039;nk2.r6&#039;,
    //   source: &#039;midi:nk2.r6&#039;
    // },
    // {
    //   targets: [
    //     &#039;layers.vf.opacity&#039;
    //   ],
    //   transformFunction: &#039;function (value) {\n  return Math.max(value - 1, 0) * (100 / 126);\n}&#039;,
    //   name: &#039;nk2.slider7&#039;,
    //   source: &#039;midi:nk2.slider7&#039;
    // },
    // {
    //   targets: [
    //     &#039;layers.vf.active&#039;
    //   ],
    //   transformFunction: &#039;function (value, currentValue) {\n  if (!value) return currentValue;\n        return !currentValue;\n}&#039;,
    //   name: &#039;nk2.r7&#039;,
    //   source: &#039;midi:nk2.r7&#039;
    // },
    {
      targets: [
        &#039;layers.ar.styleProperties.--beat.value&#039;,
        &#039;layers.vf.styleProperties.--beat.value&#039;
      ],
      transformFunction: &#039;function (value) {\n  return (value % 100).toString();\n}&#039;,
      name: &#039;beatNum20Str&#039;,
      source: &#039;signals.beatA.result&#039;
    },
    {
      targets: [
        &#039;signals.beatA.input&#039;
      ],
      transformFunction: &#039;function (value) {\n  return value + 63;\n}&#039;,
      name: &#039;beatKnob&#039;,
      source: &#039;midi:nk2.knob8&#039;
    },
    // {
    //   targets: [
    //     &#039;signals.colorA.hue&#039;
    //   ],
    //   transformFunction: &#039;function (newVal, prevVal) {\n  return newVal;\n}&#039;,
    //   name: &#039;slider8Hue&#039;,
    //   source: &#039;midi:nk2.slider8&#039;
    // }
  ],


  signals: [
    {
      type: &#039;hsla&#039;,
      defaultValue: &#039;180,50%,50%,1&#039;,
      name: &#039;colorA&#039;,
      hue: 180,
      saturation: 50,
      lightness: 50,
      alpha: 100,
    },
    {
      type: &#039;beat&#039;,
      name: &#039;beatA&#039;,
      input: 120
    }
  ],


  layers: [
    // {
    //   type: &#039;img&#039;,
    //   name: &#039;no-signal&#039;,
    //   active: false,
    //   src: &#039;./assets/no-signal.jpg&#039;
    // },
    // {
    //   type: &#039;img&#039;,
    //   name: &#039;Sky-1-back&#039;,
    //   active: false,
    //   src: &#039;./assets/sky1/sky1-back-grey.png&#039;
    // },

    {
      type: &#039;canvas&#039;,
      name: &#039;canvas&#039;,
      active: true,
      mixBlendingMode: &#039;soft-light&#039;,
      canvasLayers: canvasLayers,
    },

    // {
    //   type: &#039;SVG&#039;,
    //   name: &#039;zeropaper&#039;,
    //   active: true,
    //   src: &#039;./assets/zeropaper-fat.svg&#039;,
    //   mixBlendingMode: &#039;overlay&#039;
    // },

    {
      type: &#039;SVG&#039;,
      name: &#039;ar&#039;,
      active: true,
      src: &#039;./assets/algorave/algorave-stroke.svg&#039;
    },

    {
      type: &#039;SVG&#039;,
      name: &#039;vf&#039;,
      active: true,
      src: &#039;./assets/visual-fiha.svg&#039;
    },

    // {
    //   type: &#039;img&#039;,
    //   name: &#039;Sky-1-front&#039;,
    //   active: false,
    //   src: &#039;./assets/sky1/sky1-front-grey.png&#039;,
    //   opacity: 0
    // }
  ]
};</textarea>
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p>.</p>
  </div>
</footer>

<script type="text/html" id="complexity-popover-template">
  <div class="complexity-notice">
    Complexity : {{ cyclomatic }} <br>
    Length : {{ halstead.length }} <br>
    Difficulty : {{ halstead.difficulty.toFixed(2) }} <br>
    Est # bugs : {{ halstead.bugs.toFixed(2) }}<br>
  </div>
</script>

<script type="text/javascript" src="../../assets/scripts/bundles/core-bundle.js"></script>
<script type="text/javascript" src="../../assets/scripts/bundles/codemirror.js"></script>
<script type="text/javascript" src="../../assets/scripts/codemirror.markpopovertext.js"></script>
<script type="text/javascript" src="report.js"></script>
<script type="text/javascript" src="report.history.js"></script>
<script type="text/javascript" src="../../assets/scripts/plato-file.js"></script>
</body>
</html>
